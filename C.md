# C学习笔记 #




1. ## `char s1[100]="hello";` 与 `char *s2="hello";` 的区别 ##

	 数组声明的"hello"存储在栈中，所以s1[1]='c'; legal!

	 而指针所指向的"hello"是常量，存储在只读区，所以s2[1]='c'; illegal!
	
	还值得一说的是，s1，数组名，数组名仅仅是“相当”于指针，而并非真的是指针，数组名是只是个常量（一个值为数组首元素地址的常量），所以不能进行++或者--运算，自然也不能s1="world"。

	顺便说一下不同的变量在内存中的位置：
	
		+----------------+
		|  内核虚拟内存	 |
		+----------------+
		|	栈区          |   这个部分保存函数中的局部变量，系统自动回收
		+----------------+
		|共享库的内存映射  |
		+----------------+
		|	堆区	        |	这个部分保存malloc,new出来的变量，需要free,delete
		+----------------+
		|	可读写区      |	保存全局变量和static变量
		+----------------+
		|    只读区       |	保存常量
		+----------------+


1. ## 求两个数的最大公约数 ##

	辗转相除法：用 （前一次的）除数%（前一次的）余数，直到余数为0，输出除数。

		long gys(long n,long m){
			while(n){
				long yu;
				yu=m%n;
				m=n;
				n=yu;
			}
			return m;
		}

1. ## 尾插法可以实现逆序，而且可以保留住头指针 ##

1. ## 内存对齐 ##

	讲道理，计算机的内存地址的单位是字节（一个地址对应的是1字节的内存），这样CPU可以访问到任何数据。但是这样不是很高效，想想，C语言中一个int型变量占4字节，那CPU要读取这个整型就需要4次读取，比说麻烦不。
	
	所以，就有了字节对齐。编译器是怎么处理字节对齐的呢：     						
	
	对于标准数据类型，它的地址只要是它的长度的整数倍就行了。

	而非标准数据类型按下面的原则对齐： 

	- 数组：按照基本数据类型对齐，第一个对齐了后面的自然也就对齐了。 	
	- 联合：按其包含的长度最大的数据类型对齐。 
	- 结构体：结构体中每个数据类型都要对齐。

	关于结构体与联合的区别：[http://blog.csdn.net/maopig/article/details/6772171](http://blog.csdn.net/maopig/article/details/6772171 "maopig的专栏")

		typedef struct Node{
			char c;
			int i;
			char a[10];
		}Node;
	上诉结构体，sizeof(Node) 返回值是20。
	所以结构体中变量的声明顺序会影响结构体所占的内存大小：
	
		typedef struct A{
			char a;
			int i;
			char c;
		}A;
		typedef struct B{
			char a;
			char c;
			int i;
		}B;
	经测试，sizeof(A) 返回值是12，sizeof(B) 返回值是8。

				**A**                     **B**
		+----+----+----+----+    +----+----+----+----+    
		|  a |    |    |    |    |  a |  c |    |    |
		+----+----+----+----+    +----+----+----+----+
		|         i         |    |         i         |
		+----+----+----+----+    +----+----+----+----+
		|  c |    |    |    |
		+----+----+----+----+	
	有上面这张图就清楚了。
	
	当然也可以自己设置编译器字节对齐的规则：

		#pragma pack(1)
		typedef struct B{
			char a;
			char c;
			int i;
		}B;	
	这时，sizeof(B) 返回值是6。

	关于更多关于字节对齐:[http://blog.csdn.net/hbuxiaofei/article/details/9491953](http://blog.csdn.net/hbuxiaofei/article/details/9491953 "beachboyy的博客")